# キャッシュ化のメモ
## 以下のキャッシュを持つ

- 検索対象文字列のリスト
- 前回の検索結果キャッシュ(WordScoring)

初回は検索対象文字列のリストから

- [x] ループさせる
- [x] キャッシュと同じリストを作る(こちらが良さそうな気が…？)

のどちらかを行う

# 検索アルゴリズム
## 距離分の引き算について
~確かに文字数に近いものが得られるようになるかもしれないが、今回は不適切。~ <- 結局残した。
順番どおり...というか前から順に一致していったものを加点したい。
全く単語順であれば更に加点したい

+--------------------+
|条件|得点|
+--------------------+
|次のcharactorにマッチ|3点|
|次以降のcharactorにマッチ|2点|
|それ以外のcharactorにマッチ|1点|
+--------------------+

# 配布について
wasmファイルはどうやって配布される？
以下の2タイプに分けて配布できるかも
- rustライブラリとして
- js(npm)ライブラリとして

# RustはUnicodeで扱われ、JSはそれぞれのブラウザの文字列で扱われる

# wasm-bindgenについてメモ
ライブラリにかなり依存する
webpackの書き方から使い方まで作法に従う必要がある
便利そうだが現状必要なさそう？
文字コードとか環境に依存した何かまで吸収してくれそうではある。
binaryは多分大きくなる
jsも多分大きくなる

# node + npmについて
```
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.32.1/install.sh | bash
source /root/.bashrc && nvm install stable # for Docker

[root@8d50c6d3f940 html]# npm -v
6.4.1
[root@8d50c6d3f940 html]# node -v
v10.11.0
```

# wasmの階層を下層にして、npmの階層を上にしたほうがいいかも
